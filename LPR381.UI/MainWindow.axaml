<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="LPR381.UI.MainWindow"
        Title="Linear &amp; Integer Programming Solver">
	<DockPanel>
		<!-- Main Content -->
		<TabControl Margin="10">
			<!-- Home Tab -->
			<TabItem Header="Home">
				<ScrollViewer>
					<StackPanel Margin="20,50,0,0"  Spacing="20">

						<!-- Heading Section -->
						<Border Background="#1b1b1b" CornerRadius="10" Padding="20" Margin="0,0,0,20">
							<StackPanel>
								<TextBlock Text="Linear &amp; Integer Programming Solver"
										   Foreground="White"
										   FontSize="24"
										   FontWeight="Bold"
										   TextAlignment="Center"/>
								<TextBlock Text="Formulate • Solve • Analyze"
										   Foreground="Gray"
										   FontSize="14"
										   TextAlignment="Center"
										   Margin="0,5,0,0"/>
							</StackPanel>
						</Border>

						<!-- Description Section -->
						<Border Background="#1b1b1b" CornerRadius="10" Padding="20">
							<StackPanel>
								<TextBlock Text="Easily work with Linear &amp; Integer Programming problems in one place."
										   Foreground="White"
										   FontSize="16"
										   TextWrapping="Wrap"
										   TextAlignment="Center"
										   Margin="0,0,0,10"/>

								<TextBlock Text="Features:"
										   Foreground="White"
										   FontSize="14"
										   FontWeight="SemiBold"
										   Margin="0,0,0,10"/>

								<StackPanel Margin="20,0,0,35">
									<TextBlock Text="• Manual &amp; file-based problem input" Foreground="Gray" FontSize="13"/>
									<TextBlock Text="• Algorithms: Simplex, Branch &amp; Bound, Knapsack, Cutting Plane" Foreground="Gray" FontSize="13"/>
									<TextBlock Text="• Sensitivity analysis tools" Foreground="Gray" FontSize="13"/>
								</StackPanel>
							</StackPanel>
						</Border>
					</StackPanel>
				</ScrollViewer>
			</TabItem>

			<!-- Problem Formulation Tab -->
			<TabItem Header="Problem Formulation">
				<ScrollViewer>
					<StackPanel Margin="10">
						<Border BorderThickness="2" CornerRadius="8" Background="#1b1b1b" Padding="10">
							<StackPanel>
								<!-- Two Column Layout -->
								<Grid ColumnDefinitions="*,*" RowDefinitions="Auto">
									<!-- Left Column - Solver Selection -->
									<StackPanel Grid.Column="0" Margin="0,0,10,0">
										<!-- Algorithm Selection -->
										<TextBlock Text="Select Algorithm" FontWeight="Bold" Margin="0,10,0,5"/>
										<StackPanel x:Name="AlgorithmRadioPanel" Margin="0,5">
											<!-- Radio buttons will be added programmatically -->
										</StackPanel>

										<!-- File Upload Section -->
										<StackPanel Orientation="Horizontal" Margin="0,15,0,10">
											<Button Content="Load from File" Width="120" Click="UploadFileButton_Click"/>
										</StackPanel>
										<TextBlock x:Name="FileStatusText" Text="" Foreground="Green" Margin="0,0,0,10" TextWrapping="Wrap"/>
									</StackPanel>

									<!-- Right Column - Problem Definition -->
									<StackPanel Grid.Column="1" Margin="10,0,0,0">
										<!-- Objective -->
										<TextBlock Text="Objective Function" FontWeight="Bold" Margin="0,10,0,5"/>
										<StackPanel Orientation="Horizontal" Margin="0,5">
											<ComboBox x:Name="ObjectiveTypeCombo" Width="80">
												<ComboBoxItem Content="Max" IsSelected="True"/>
												<ComboBoxItem Content="Min"/>
											</ComboBox>
											<TextBox x:Name="ObjectiveTextBox" Watermark="e.g. 3x1 + 2x2 + 5x3" Margin="10,0,0,0"/>
										</StackPanel>

										<!-- Variable Sign Restrictions -->
										<TextBlock Text="Variable Sign Restrictions" FontWeight="Bold" Margin="0,15,0,5"/>
										<Button Content="Update Variables" Width="150" Margin="0,5" Click="UpdateVariablesButton_Click"/>
										<StackPanel x:Name="VariableRestrictionsPanel" Margin="0,5">
											<!-- Variable restrictions will be added dynamically -->
										</StackPanel>

										<!-- Constraints -->
										<TextBlock Text="Constraints" FontWeight="Bold" Margin="0,15,0,5"/>
										<StackPanel x:Name="ConstraintsPanel">
											<!-- Initial constraint row will be added programmatically -->
										</StackPanel>
										<Button x:Name="AddConstraintButton" Content="Add Constraint Row" Width="180" Margin="0,10" Click="AddConstraintButton_Click"/>
									</StackPanel>
								</Grid>

								<!-- Action Buttons - Full Width -->
								<StackPanel Orientation="Horizontal" Spacing="8" Margin="0,20,0,15" HorizontalAlignment="Center">
									<Button x:Name="SubmitButton" Content="Submit" Width="150" Click="SubmitButton_Click"/>
									<Button x:Name="PreviewCanonicalButton" Content="Preview Canonical Form" Width="200" Click="PreviewCanonicalButton_Click"/>
									<Button x:Name="ClearButton" Content="Clear" Width="100" Click="ClearButton_Click"/>
								</StackPanel>

								<!-- Canonical Form Preview - Full Width -->
								<TextBox x:Name="CanonicalPreviewBox" AcceptsReturn="True" Height="300" Watermark="Canonical form will appear here" IsReadOnly="True" Margin="0,0,0,10" FontFamily="Consolas, Courier New, monospace"/>
							</StackPanel>
						</Border>
					</StackPanel>
				</ScrollViewer>
			</TabItem>



			<!-- Results Tab -->
			<TabItem Header="Results" x:Name="ResultsTab">
				<TabControl Margin="10">
					<!-- Summary Tab -->
					<TabItem Header="Summary">
						<StackPanel Margin="10">
							<TextBlock Text="Optimal Solution" FontWeight="Bold" Margin="0,0,0,10"/>
							<TextBox x:Name="SolutionSummaryBox" AcceptsReturn="True" Height="200" IsReadOnly="True"
									 Watermark="Final solution (z value and variables)"/>
						</StackPanel>
					</TabItem>
					
					<!-- Iterations Tab -->
					<TabItem Header="Iterations">
						<StackPanel Margin="10">
							<TextBlock Text="Algorithm Steps" FontWeight="Bold" Margin="0,0,0,10"/>
							<TextBox x:Name="IterationsBox" AcceptsReturn="True" Height="500" IsReadOnly="True"
									 FontFamily="Consolas, Courier New, monospace"
									 Watermark="Algorithm iterations will appear here"/>
						</StackPanel>
					</TabItem>
					
					<!-- Sensitivity Analysis Tab -->
					<TabItem Header="Sensitivity Analysis">
						<TabControl Margin="5">
							
							<!-- Variable Analysis -->
							<TabItem Header="Variable Analysis">
								<ScrollViewer>
									<StackPanel Margin="10" Spacing="15">
										
										<!-- Non-Basic Variables -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Non-Basic Variables" FontWeight="Bold" FontSize="14"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Select Variable:" FontWeight="SemiBold"/>
														<ComboBox x:Name="SA_NonBasic_VarSelect" Width="200" PlaceholderText="Choose non-basic variable"/>
														<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
															<Button Content="Display Range" Width="120" Click="SA_NonBasic_DisplayRange_Click"/>
															<TextBox x:Name="SA_NonBasic_NewValue" Width="100" Watermark="New value"/>
															<Button Content="Apply Change" Width="120" Click="SA_NonBasic_ApplyChange_Click"/>
														</StackPanel>
													</StackPanel>
													<TextBlock x:Name="SA_NonBasic_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
										<!-- Basic Variables -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Basic Variables" FontWeight="Bold" FontSize="14"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Select Variable:" FontWeight="SemiBold"/>
														<ComboBox x:Name="SA_Basic_VarSelect" Width="200" PlaceholderText="Choose basic variable"/>
														<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
															<Button Content="Display Range" Width="120" Click="SA_Basic_DisplayRange_Click"/>
															<TextBox x:Name="SA_Basic_NewValue" Width="100" Watermark="New value"/>
															<Button Content="Apply Change" Width="120" Click="SA_Basic_ApplyChange_Click"/>
														</StackPanel>
													</StackPanel>
													<TextBlock x:Name="SA_Basic_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
										<!-- Non-Basic Variable Column Coefficients -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Non-Basic Variable Column Coefficients" FontWeight="Bold" FontSize="14"/>
												<TextBlock Text="Analyze constraint coefficients of non-basic variables" FontSize="12" Foreground="Gray"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Select Non-Basic Variable:" FontWeight="SemiBold"/>
														<ComboBox x:Name="SA_Column_VarSelect" Width="200" PlaceholderText="Choose non-basic variable"/>
														<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
															<Button Content="Display Range" Width="120" Click="SA_Column_DisplayRange_Click"/>
															<TextBox x:Name="SA_Column_NewValue" Width="100" Watermark="New coefficient"/>
															<Button Content="Apply Change" Width="120" Click="SA_Column_ApplyChange_Click"/>
														</StackPanel>
													</StackPanel>
													<TextBlock x:Name="SA_Column_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
									</StackPanel>
								</ScrollViewer>
							</TabItem>
							
							<!-- Constraint Analysis -->
							<TabItem Header="Constraint Analysis">
								<ScrollViewer>
									<StackPanel Margin="10" Spacing="15">
										
										<!-- RHS Analysis -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Right-Hand-Side Values" FontWeight="Bold" FontSize="14"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Select Constraint:" FontWeight="SemiBold"/>
														<ComboBox x:Name="SA_RHS_ConstraintSelect" Width="200" PlaceholderText="Choose constraint"/>
														<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
															<Button Content="Display Range" Width="120" Click="SA_RHS_DisplayRange_Click"/>
															<TextBox x:Name="SA_RHS_NewValue" Width="100" Watermark="New RHS"/>
															<Button Content="Apply Change" Width="120" Click="SA_RHS_ApplyChange_Click"/>
														</StackPanel>
													</StackPanel>
													<TextBlock x:Name="SA_RHS_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
										<!-- Shadow Prices -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Shadow Prices" FontWeight="Bold" FontSize="14"/>
												<Button Content="Display Shadow Prices" Width="200" Click="SA_ShadowPrices_Display_Click" HorizontalAlignment="Left"/>
												<TextBlock x:Name="SA_ShadowPrices_Status" TextWrapping="Wrap" Margin="0,5,0,0"/>
												<TextBox x:Name="SA_ShadowPrices_Output" AcceptsReturn="True" Height="100" IsReadOnly="True" Margin="0,5,0,0" FontFamily="Consolas"/>
												<DataGrid x:Name="SA_ShadowPrices_Grid" HeadersVisibility="Column" AutoGenerateColumns="False" Height="150" x:CompileBindings="False">
													<DataGrid.Columns>
														<DataGridTextColumn Header="Constraint" Binding="{Binding Name}"/>
														<DataGridTextColumn Header="Shadow Price" Binding="{Binding Value, StringFormat=G6}"/>
														<DataGridTextColumn Header="Interpretation" Binding="{Binding Interpretation}"/>
													</DataGrid.Columns>
												</DataGrid>
											</StackPanel>
										</Border>
										
									</StackPanel>
								</ScrollViewer>
							</TabItem>
							
							<!-- Add New Elements -->
							<TabItem Header="Add New Elements">
								<ScrollViewer>
									<StackPanel Margin="10" Spacing="15">
										
										<!-- Side-by-side input sections -->
										<Grid ColumnDefinitions="*,*">
											
											<!-- Add New Activity -->
											<Border Grid.Column="0" BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,7,0">
												<StackPanel Spacing="10">
													<TextBlock Text="Add New Activity" FontWeight="Bold" FontSize="14" HorizontalAlignment="Center"/>
													<StackPanel Spacing="8">
														<StackPanel Spacing="3">
															<TextBlock Text="Activity Name:" FontWeight="SemiBold"/>
															<TextBox x:Name="SA_NewActivity_Name" Watermark="e.g., x4"/>
														</StackPanel>
														<StackPanel Spacing="3">
															<TextBlock Text="Objective Coefficient:" FontWeight="SemiBold"/>
															<TextBox x:Name="SA_NewActivity_ObjCoeff" Watermark="e.g., 15"/>
														</StackPanel>
														<StackPanel Spacing="3">
															<TextBlock Text="Constraint Coefficients:" FontWeight="SemiBold"/>
															<TextBox x:Name="SA_NewActivity_Coeffs" Watermark="e.g., 1 1 1"/>
														</StackPanel>
														<Button Content="Add Activity" Click="SA_NewActivity_Add_Click" Margin="0,10,0,0" HorizontalAlignment="Center"/>
													</StackPanel>
												</StackPanel>
											</Border>
											
											<!-- Add New Constraint -->
											<Border Grid.Column="1" BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="15" Margin="7,0,0,0">
												<StackPanel Spacing="10">
													<TextBlock Text="Add New Constraint" FontWeight="Bold" FontSize="14" HorizontalAlignment="Center"/>
													<StackPanel Spacing="8">
														<StackPanel Spacing="3">
															<TextBlock Text="Constraint Name:" FontWeight="SemiBold"/>
															<TextBox x:Name="SA_NewConstraint_Name" Watermark="e.g., C4"/>
														</StackPanel>
														<StackPanel Spacing="3">
															<TextBlock Text="Variable Coefficients:" FontWeight="SemiBold"/>
															<TextBox x:Name="SA_NewConstraint_Coeffs" Watermark="e.g., 0 1 0"/>
														</StackPanel>
														<Grid ColumnDefinitions="*,*">
															<StackPanel Grid.Column="0" Spacing="3" Margin="0,0,5,0">
																<TextBlock Text="Sign:" FontWeight="SemiBold"/>
																<ComboBox x:Name="SA_NewConstraint_Sign">
																	<ComboBoxItem Content="&lt;=" IsSelected="True"/>
																	<ComboBoxItem Content="&gt;="/>
																	<ComboBoxItem Content="="/>
																</ComboBox>
															</StackPanel>
															<StackPanel Grid.Column="1" Spacing="3" Margin="5,0,0,0">
																<TextBlock Text="RHS Value:" FontWeight="SemiBold"/>
																<TextBox x:Name="SA_NewConstraint_RHS" Watermark="e.g., 5"/>
															</StackPanel>
														</Grid>
														<Button Content="Add Constraint" Click="SA_NewConstraint_Add_Click" Margin="0,10,0,0" HorizontalAlignment="Center"/>
													</StackPanel>
												</StackPanel>
											</Border>
											
										</Grid>
										
										<!-- Shared Output Area -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="15">
											<StackPanel Spacing="10">
												<TextBlock Text="Results" FontWeight="Bold" FontSize="14" HorizontalAlignment="Center"/>
												<TextBox x:Name="SA_AddElements_Output" AcceptsReturn="True" Height="500" IsReadOnly="True" 
														 FontFamily="Consolas" Watermark="Results from adding activities or constraints will appear here"/>
											</StackPanel>
										</Border>
										
									</StackPanel>
								</ScrollViewer>
							</TabItem>
							
							<!-- Duality -->
							<TabItem Header="Duality">
								<ScrollViewer>
									<StackPanel Margin="10" Spacing="15">
										
										<!-- Apply Duality -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Dual Problem" FontWeight="Bold" FontSize="14"/>
												<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
													<Button Content="Apply Duality" Width="150" Click="SA_Duality_Apply_Click"/>
													<Button Content="Solve Dual" Width="150" Click="SA_Duality_Solve_Click"/>
													<Button Content="Verify Duality" Width="150" Click="SA_Duality_Verify_Click"/>
												</StackPanel>
												<TextBox x:Name="SA_Duality_Display" AcceptsReturn="True" Height="500" IsReadOnly="True" 
														 Watermark="Dual problem formulation and results will appear here"/>
												<TextBlock x:Name="SA_Duality_Status" TextWrapping="Wrap" Margin="0,5,0,0"/>
											</StackPanel>
										</Border>
										
									</StackPanel>
								</ScrollViewer>
							</TabItem>
							
						</TabControl>
					</TabItem>
				</TabControl>
			</TabItem>
			
		</TabControl>
	</DockPanel>
</Window>
