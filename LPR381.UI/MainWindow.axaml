<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="LPR381.UI.MainWindow"
        Title="Linear &amp; Integer Programming Solver">
	<DockPanel>
		<!-- Main Content -->
		<TabControl Margin="10">
			<!-- Home Tab -->
			<TabItem Header="Home">
				<ScrollViewer>
					<StackPanel Margin="20,50,0,0"  Spacing="20">

						<!-- Heading Section -->
						<Border Background="#1b1b1b" CornerRadius="10" Padding="20" Margin="0,0,0,20">
							<StackPanel>
								<TextBlock Text="Linear &amp; Integer Programming Solver"
										   Foreground="White"
										   FontSize="24"
										   FontWeight="Bold"
										   TextAlignment="Center"/>
								<TextBlock Text="Formulate • Solve • Analyze"
										   Foreground="Gray"
										   FontSize="14"
										   TextAlignment="Center"
										   Margin="0,5,0,0"/>
							</StackPanel>
						</Border>

						<!-- Description Section -->
						<Border Background="#1b1b1b" CornerRadius="10" Padding="20">
							<StackPanel>
								<TextBlock Text="Easily work with Linear &amp; Integer Programming problems in one place."
										   Foreground="White"
										   FontSize="16"
										   TextWrapping="Wrap"
										   TextAlignment="Center"
										   Margin="0,0,0,10"/>

								<TextBlock Text="Features:"
										   Foreground="White"
										   FontSize="14"
										   FontWeight="SemiBold"
										   Margin="0,0,0,10"/>

								<StackPanel Margin="20,0,0,35">
									<TextBlock Text="• Manual &amp; file-based problem input" Foreground="Gray" FontSize="13"/>
									<TextBlock Text="• Algorithms: Simplex, Branch &amp; Bound, Knapsack, Cutting Plane" Foreground="Gray" FontSize="13"/>
									<TextBlock Text="• Sensitivity analysis tools" Foreground="Gray" FontSize="13"/>
								</StackPanel>
							</StackPanel>
						</Border>
					</StackPanel>
				</ScrollViewer>
			</TabItem>

			<!-- Problem Formulation Tab -->
			<TabItem Header="Problem Formulation">
				<TabControl Margin="10">
					<!-- Problem Formulation Tab -> Manual Input -->
					<TabItem Header="Manual Input">
						<ScrollViewer>
							<StackPanel Margin="10">
								<Border BorderThickness="2" CornerRadius="8" Background="#1b1b1b" Padding="10">
									<StackPanel>

										<!-- Algorithm Selection -->
										<TextBlock Text="Select Algorithm" FontWeight="Bold" Margin="0,10,0,5"/>
										<ComboBox x:Name="AlgorithmCombo" Width="200" Margin="0,3" />
										<!--
										 Decision variables (optional; not required for parsing) 
										<TextBlock Text="Decision Variables (optional, e.g. x1, x2, x3)" Margin="0,10,0,5"/>
										<StackPanel Orientation="Horizontal" Margin="0,5">
											<TextBox x:Name="DecisionVariablesBox" Width="400"/>
										</StackPanel>
										-->

										<!-- Objective -->
										<TextBlock Text="Objective Function" FontWeight="Bold" Margin="0,10,0,5"/>
										<StackPanel Orientation="Horizontal" Margin="0,5">
											<ComboBox x:Name="ObjectiveTypeCombo" Width="100">
												<ComboBoxItem Content="Max" IsSelected="True"/>
												<ComboBoxItem Content="Min"/>
											</ComboBox>
											<TextBox x:Name="ObjectiveTextBox" Width="400" Watermark="e.g. 3x1 + 2x2 + 5x3" Margin="10,0"/>
										</StackPanel>

										<!-- Variable Type restriction -->
										<TextBlock Text="Variable Type" FontWeight="Bold" Margin="0,10,0,5"/>
										<ComboBox x:Name="VariableTypeCombo" Width="200" Margin="0,3" SelectedIndex="0">
											<ComboBoxItem Content="Continuous" Tag="continuous"/>
											<ComboBoxItem Content="Integer" Tag="integer"/>
											<ComboBoxItem Content="Binary" Tag="binary"/>
										</ComboBox>
										
										<!-- Solver Compatibility Info -->
										<TextBlock x:Name="SolverInfoText" Text="" Foreground="Orange" FontSize="12" Margin="0,5" TextWrapping="Wrap"/>

										<!-- Constraints -->
										<TextBlock Text="Constraints" FontWeight="Bold" Margin="0,10,0,5"/>
										<StackPanel x:Name="ConstraintsPanel">
											<!-- one starter row -->
											<StackPanel Orientation="Horizontal" Margin="0,5">
												<TextBox Width="250" Watermark="Coefficients e.g. 2x1 + 3x2"/>
												<ComboBox Width="70" Margin="5,0">
													<ComboBoxItem Content="&lt;=" IsSelected="True"/>
													<ComboBoxItem Content="&gt;="/>
													<ComboBoxItem Content="="/>
												</ComboBox>
												<TextBox Width="80" Watermark="RHS"/>
											</StackPanel>
										</StackPanel>

										<StackPanel Orientation="Horizontal" Spacing="8" Margin="0,10">
											<Button x:Name="AddConstraintButton"
													Content="Add Constraint Row"
													Width="180"
													Click="AddConstraintButton_Click"/>
											<Button x:Name="SubmitButton"
													Content="Submit"
													Width="150"
													Click="SubmitButton_Click"/>
											<Button x:Name="ExportButton"
													Content="Export Results"
													Width="150"
													Click="ExportButton_Click"/>
										</StackPanel>

										<!-- Simple output area -->
										<TextBlock Text="Result" FontWeight="Bold" Margin="0,10,0,5"/>
										<TextBox x:Name="OutputBox"
												 IsReadOnly="True"
												 AcceptsReturn="True"
												 TextWrapping="Wrap"
												 Height="180"/>
									</StackPanel>
								</Border>
							</StackPanel>
						</ScrollViewer>
					</TabItem>


					<!-- File Input -->
					<TabItem Header="File Input">
						<ScrollViewer>
							<StackPanel Margin="10">
								<Border BorderThickness="2" CornerRadius="8" Background="#1b1b1b" Padding="10">
									<StackPanel>
										<!-- Algorithm Selection -->
										<TextBlock Text="Select Algorithm" FontWeight="Bold" Margin="0,10,0,5"/>
										<ComboBox x:Name="FileAlgorithmCombo" Width="200" />
										<!-- Load File -->
										<TextBlock Text="Load LP Model From File" FontWeight="Bold" Margin="0,10,0,5"/>
										<Button Content="Select File..." Width="150" Margin="0,10" Click="UploadFileButton_Click"/>
										<TextBox x:Name="FileContentTextBox" AcceptsReturn="True" Height="200" Watermark="File preview will appear here." IsReadOnly="True"/>
										<StackPanel>
											<Button x:Name="FileSubmitButton" Content="Submit" Width="150" Margin="0,10" Click="FileSubmitButton_Click" />
										</StackPanel>
										<!-- Canonical Form -->
										<Button Content="Preview Canonical Form" Width="200" Margin="0,10"/>
										<TextBox AcceptsReturn="True" Height="150" Watermark="Canonical form will appear here"/>
									</StackPanel>
								</Border>
							</StackPanel>
						</ScrollViewer>
					</TabItem>
				</TabControl>
			</TabItem>

			<!-- Iterations Tab -->
			<TabItem Header="Iterations">
				<ScrollViewer>
					<TextBox x:Name="IterationsBox"
							 IsReadOnly="True"
							 AcceptsReturn="True"
							 TextWrapping="NoWrap"
							 FontFamily="Consolas, Courier New, monospace"
							 Height="600"/>
				</ScrollViewer>
			</TabItem>

			<!-- Solution Tab -->
			<TabItem Header="Solution">
				<TabControl Margin="10">
					<!-- Summary Tab -->
					<TabItem Header="Summary">
						<StackPanel Margin="10">
							<TextBlock Text="Optimal Solution" FontWeight="Bold" Margin="0,0,0,10"/>
							<TextBox x:Name="SolutionSummaryBox" AcceptsReturn="True" Height="200" IsReadOnly="True"
									 Watermark="Final solution (z value and variables)"/>
						</StackPanel>
					</TabItem>
					
					<!-- Sensitivity Analysis Tab -->
					<TabItem Header="Sensitivity Analysis">
						<TabControl Margin="5">
							
							<!-- Variable Analysis -->
							<TabItem Header="Variable Analysis">
								<ScrollViewer>
									<StackPanel Margin="10" Spacing="15">
										
										<!-- Non-Basic Variables -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Non-Basic Variables" FontWeight="Bold" FontSize="14"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Select Variable:" FontWeight="SemiBold"/>
														<ComboBox x:Name="SA_NonBasic_VarSelect" Width="200" PlaceholderText="Choose non-basic variable"/>
														<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
															<Button Content="Display Range" Width="120" Click="SA_NonBasic_DisplayRange_Click"/>
															<TextBox x:Name="SA_NonBasic_NewValue" Width="100" Watermark="New value"/>
															<Button Content="Apply Change" Width="120" Click="SA_NonBasic_ApplyChange_Click"/>
														</StackPanel>
													</StackPanel>
													<TextBlock x:Name="SA_NonBasic_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
										<!-- Basic Variables -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Basic Variables" FontWeight="Bold" FontSize="14"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Select Variable:" FontWeight="SemiBold"/>
														<ComboBox x:Name="SA_Basic_VarSelect" Width="200" PlaceholderText="Choose basic variable"/>
														<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
															<Button Content="Display Range" Width="120" Click="SA_Basic_DisplayRange_Click"/>
															<TextBox x:Name="SA_Basic_NewValue" Width="100" Watermark="New value"/>
															<Button Content="Apply Change" Width="120" Click="SA_Basic_ApplyChange_Click"/>
														</StackPanel>
													</StackPanel>
													<TextBlock x:Name="SA_Basic_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
										<!-- Non-Basic Variable Column -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Non-Basic Variable Column" FontWeight="Bold" FontSize="14"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Select Variable:" FontWeight="SemiBold"/>
														<ComboBox x:Name="SA_Column_VarSelect" Width="200" PlaceholderText="Choose variable"/>
														<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
															<Button Content="Display Range" Width="120" Click="SA_Column_DisplayRange_Click"/>
															<TextBox x:Name="SA_Column_NewValue" Width="100" Watermark="New value"/>
															<Button Content="Apply Change" Width="120" Click="SA_Column_ApplyChange_Click"/>
														</StackPanel>
													</StackPanel>
													<TextBlock x:Name="SA_Column_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
									</StackPanel>
								</ScrollViewer>
							</TabItem>
							
							<!-- Constraint Analysis -->
							<TabItem Header="Constraint Analysis">
								<ScrollViewer>
									<StackPanel Margin="10" Spacing="15">
										
										<!-- RHS Analysis -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Right-Hand-Side Values" FontWeight="Bold" FontSize="14"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Select Constraint:" FontWeight="SemiBold"/>
														<ComboBox x:Name="SA_RHS_ConstraintSelect" Width="200" PlaceholderText="Choose constraint"/>
														<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
															<Button Content="Display Range" Width="120" Click="SA_RHS_DisplayRange_Click"/>
															<TextBox x:Name="SA_RHS_NewValue" Width="100" Watermark="New RHS"/>
															<Button Content="Apply Change" Width="120" Click="SA_RHS_ApplyChange_Click"/>
														</StackPanel>
													</StackPanel>
													<TextBlock x:Name="SA_RHS_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
										<!-- Shadow Prices -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Shadow Prices" FontWeight="Bold" FontSize="14"/>
												<Button Content="Display Shadow Prices" Width="200" Click="SA_ShadowPrices_Display_Click" HorizontalAlignment="Left"/>
												<DataGrid x:Name="SA_ShadowPrices_Grid" HeadersVisibility="Column" AutoGenerateColumns="False" Height="150" x:CompileBindings="False">
													<DataGrid.Columns>
														<DataGridTextColumn Header="Constraint" Binding="{Binding Name}"/>
														<DataGridTextColumn Header="Shadow Price" Binding="{Binding Value, StringFormat=G6}"/>
														<DataGridTextColumn Header="Interpretation" Binding="{Binding Interpretation}"/>
													</DataGrid.Columns>
												</DataGrid>
											</StackPanel>
										</Border>
										
									</StackPanel>
								</ScrollViewer>
							</TabItem>
							
							<!-- Add New Elements -->
							<TabItem Header="Add New Elements">
								<ScrollViewer>
									<StackPanel Margin="10" Spacing="15">
										
										<!-- Add New Activity -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Add New Activity" FontWeight="Bold" FontSize="14"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Activity Name:" FontWeight="SemiBold"/>
														<TextBox x:Name="SA_NewActivity_Name" Width="200" Watermark="e.g., x4"/>
														<TextBlock Text="Objective Coefficient:" FontWeight="SemiBold"/>
														<TextBox x:Name="SA_NewActivity_ObjCoeff" Width="200" Watermark="e.g., 5"/>
														<TextBlock Text="Constraint Coefficients:" FontWeight="SemiBold"/>
														<TextBox x:Name="SA_NewActivity_Coeffs" Width="300" Watermark="e.g., 2 3 1 (space-separated)"/>
														<Button Content="Add Activity" Width="150" Click="SA_NewActivity_Add_Click" Margin="0,10,0,0"/>
													</StackPanel>
													<TextBlock x:Name="SA_NewActivity_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
										<!-- Add New Constraint -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Add New Constraint" FontWeight="Bold" FontSize="14"/>
												<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto,Auto" Margin="0,5">
													<StackPanel Grid.Column="0" Spacing="5">
														<TextBlock Text="Constraint Name:" FontWeight="SemiBold"/>
														<TextBox x:Name="SA_NewConstraint_Name" Width="200" Watermark="e.g., C4"/>
														<TextBlock Text="Coefficients:" FontWeight="SemiBold"/>
														<TextBox x:Name="SA_NewConstraint_Coeffs" Width="300" Watermark="e.g., 1 2 3 (space-separated)"/>
														<TextBlock Text="RHS Value:" FontWeight="SemiBold"/>
														<TextBox x:Name="SA_NewConstraint_RHS" Width="200" Watermark="e.g., 10"/>
														<Button Content="Add Constraint" Width="150" Click="SA_NewConstraint_Add_Click" Margin="0,10,0,0"/>
													</StackPanel>
													<TextBlock x:Name="SA_NewConstraint_Status" Grid.Column="1" Margin="20,0,0,0" TextWrapping="Wrap" VerticalAlignment="Top"/>
												</Grid>
											</StackPanel>
										</Border>
										
									</StackPanel>
								</ScrollViewer>
							</TabItem>
							
							<!-- Duality -->
							<TabItem Header="Duality">
								<ScrollViewer>
									<StackPanel Margin="10" Spacing="15">
										
										<!-- Apply Duality -->
										<Border BorderBrush="#333" BorderThickness="1" CornerRadius="5" Padding="10">
											<StackPanel Spacing="8">
												<TextBlock Text="Dual Problem" FontWeight="Bold" FontSize="14"/>
												<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,5">
													<Button Content="Apply Duality" Width="150" Click="SA_Duality_Apply_Click"/>
													<Button Content="Solve Dual" Width="150" Click="SA_Duality_Solve_Click"/>
													<Button Content="Verify Duality" Width="150" Click="SA_Duality_Verify_Click"/>
												</StackPanel>
												<TextBox x:Name="SA_Duality_Display" AcceptsReturn="True" Height="300" IsReadOnly="True" 
														 Watermark="Dual problem formulation and results will appear here"/>
												<TextBlock x:Name="SA_Duality_Status" TextWrapping="Wrap" Margin="0,5,0,0"/>
											</StackPanel>
										</Border>
										
									</StackPanel>
								</ScrollViewer>
							</TabItem>
							
						</TabControl>
					</TabItem>
				</TabControl>
			</TabItem>
			
		</TabControl>
	</DockPanel>
</Window>
